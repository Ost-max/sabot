databaseChangeLog:
  - changeSet:
      id: 1
      validCheckSum: any
      author: ost-max
      changes:
        - addColumn:
            tableName: event_template
            columns:
              - column:
                  name: begin_date
                  type: date
              - column:
                  name: end_date
                  type: date
  - changeSet:
      id: 2
      author: ost-max
      validCheckSum: any
      changes:
        - insert:
            tableName: event_template
            columns:
              - column:
                  name: id
                  valueSequenceNext: event_template_seq
              - column:
                  name: name
                  value: Старшая группа
              - column:
                  name: occurs_time
                  value: '10:00:00'
              - column:
                  name: regularity
                  value: 1
              - column:
                  name: occurs_day_of_week
                  value: 6
              - column:
                  name: unit_id
                  value: '47b1d772-fb1c-48e8-ac49-bce2160cfb80'
              - column:
                  name: begin_date
                  value: 2023-05-20
              - column:
                  name: end_date
                  value: 2025-05-19
              - column:
                  name: end_date
                  value: 2025-05-19
              - column:
                  name: demand
                  value: 2
        - insert:
            tableName: event_template
            columns:
              - column:
                    name: id
                    valueSequenceNext: event_template_seq
              - column:
                  name: name
                  value: Средняя группа
              - column:
                  name: occurs_time
                  value: '10:00:00'
              - column:
                  name: regularity
                  value: 1
              - column:
                  name: occurs_day_of_week
                  value: 6
              - column:
                  name: unit_id
                  value: '47b1d772-fb1c-48e8-ac49-bce2160cfb80'
              - column:
                  name: begin_date
                  value: 2023-05-20
              - column:
                  name: end_date
                  value: 2025-05-19
              - column:
                  name: end_date
                  value: 2025-05-19
              - column:
                  name: demand
                  value: 2
        - insert:
            tableName: event_template
            columns:
              - column:
                  name: id
                  valueSequenceNext: event_template_seq
              - column:
                  name: name
                  value: Младшая группа
              - column:
                  name: occurs_time
                  value: '10:00:00'
              - column:
                  name: regularity
                  value: 1
              - column:
                  name: occurs_day_of_week
                  value: 6
              - column:
                  name: unit_id
                  value: '47b1d772-fb1c-48e8-ac49-bce2160cfb80'
              - column:
                  name: begin_date
                  value: 2023-05-20
              - column:
                  name: end_date
                  value: 2025-05-19
              - column:
                  name: end_date
                  value: 2025-05-19
              - column:
                  name: demand
                  value: 2
        - insert:
            tableName: event_template
            columns:
              - column:
                  name: id
                  valueSequenceNext: event_template_seq
              - column:
                  name: name
                  value: Старшая группа
              - column:
                  name: occurs_time
                  value: '12:00:00'
              - column:
                  name: regularity
                  value: 1
              - column:
                  name: occurs_day_of_week
                  value: 6
              - column:
                  name: unit_id
                  value: '47b1d772-fb1c-48e8-ac49-bce2160cfb80'
              - column:
                  name: begin_date
                  value: 2023-05-20
              - column:
                  name: end_date
                  value: 2025-05-19
              - column:
                  name: end_date
                  value: 2025-05-19
              - column:
                  name: demand
                  value: 2
        - insert:
            tableName: event_template
            columns:
              - column:
                  name: id
                  valueSequenceNext: event_template_seq
              - column:
                  name: name
                  value: Средняя группа
              - column:
                  name: occurs_time
                  value: '12:00:00'
              - column:
                  name: regularity
                  value: 1
              - column:
                  name: occurs_day_of_week
                  value: 6
              - column:
                  name: unit_id
                  value: '47b1d772-fb1c-48e8-ac49-bce2160cfb80'
              - column:
                  name: begin_date
                  value: 2023-05-20
              - column:
                  name: end_date
                  value: 2025-05-19
              - column:
                  name: end_date
                  value: 2025-05-19
              - column:
                  name: demand
                  value: 2
        - insert:
            tableName: event_template
            columns:
              - column:
                  name: id
                  valueSequenceNext: event_template_seq
              - column:
                  name: name
                  value: Младшая группа
              - column:
                  name: occurs_time
                  value: '12:00:00'
              - column:
                  name: regularity
                  value: 1
              - column:
                  name: occurs_day_of_week
                  value: 6
              - column:
                  name: unit_id
                  value: '47b1d772-fb1c-48e8-ac49-bce2160cfb80'
              - column:
                  name: begin_date
                  value: 2023-05-20
              - column:
                  name: end_date
                  value: 2025-05-19
              - column:
                  name: end_date
                  value: 2025-05-19
              - column:
                  name: demand
                  value: 2
  - changeSet:
      id: 3
      author: ost-max
      validCheckSum: any
      changes:
        - update:
            tableName: event_template
            where: end_date is null and begin_date is null and regularity=1 and unit_id='47b1d772-fb1c-48e8-ac49-bce2160cfb80'
            columns:
              - column:
                  name: begin_date
                  value: '2023-03-01'
              - column:
                  name: end_date
                  value: '2023-05-19'
